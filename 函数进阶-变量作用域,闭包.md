## 变量作用域,闭包

### 代码块

### 嵌套函数

### 词法环境

#### Step 1. 变量

词法环境对象由两个部分组成

- 环境记录:一个存储所有局部变量作为其属性的对象
- 对外部词法环境的引用

#### Step 2. 函数声明

函数跟变量一样也是一个值,不同之处在于函数声明的初始化会被立即完成.

#### Step 3. 内部和外部的词法环境

当代码要访问一个变量时,首先会搜索内部词法环境,然后搜索外部词法环境,然后搜索更外部的环境,以此类推,直到全局词法环境

#### Step 4. 返回函数

在变量所在的词法环境中更新变量

### 垃圾收集

实际开发中的优化

